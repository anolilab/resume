# Résumé

This is the theme repository for the [Json Résumé](https://jsonresume.org/) project. Unlike the [json-theme-boilerplate](https://github.com/jsonresume/jsonresume-theme-boilerplate) project, this environment has a much improved developer environment to make editing your theme super to do.

---

<div align="center">
    <p>
        <sup>
            Daniel Bannert's open source work is supported by the community on <a href="https://github.com/sponsors/prisis">GitHub Sponsors</a>
        </sup>
    </p>
</div>

---

![Preview of the Theme](./preview.png)

## Installation

This project uses [pnpm](https://pnpm.io/), [vitejs](https://vitejs.dev/) and [vitest](https://vitest.dev/) for all its internal build processes. In theory, this project requires at lest Node v16 to run.

## Quick Commands

-   `pnpm dev` - Run the build and generate an résumé html page for development
-   `pnpm run build` - Builds the résumé into a `html` file
-   `pnpm run build:pdf` - Builds the résumé into a `pdf` file
-   `pnpm run download:resume` - Download your gist resume.json (and resume.private.jons)
-   `pnpm run serve` - Locally preview the production build

## Creating your résumé.json

This project comes with `resume-sample.json`, which is a sample json résumé you can build from. If you don’t create a `resume.json` file, it will automatically be created against the `resume-sample.json` file.

It’s highly **recommended** to create your own `resume.json` for your own résumé. If you create a `resume.json`, this will automatically be used by the app instead. The `resume.private.json` file is automatically ignored from GIT to ensure you cannot check it in (since you’ll have personal information on there). If you do decide that you want to check it in, you can comment the following line in `.gitignore` like so:

```
# Keep your personal resume.json private
# resume.json
# resume.private.json
```

Please review the [schema here](https://jsonresume.org/schema/) when creating your `resume.json`.

## Developing your résumé

-   Copy the `.env.dist` to `.env.local`
-   To make use of the `GitHub stars` feature, fill the `VITE_GITHUB_AUTH_TOKEN` variable with your `GitHub auth_token`, to not run into GitHub’s API limitation
-   To use the `pnpm run download:resume` command, fill the `VITE_GITHUB_RESUME_GIST_ID` variable with your `gist id`
-   Start the dev server (`pnpm run dev`)

## Generating an résumé locally

To generate an résumé locally:

-   Copy the `.env.dist` to `.env.local`
-   To make use of the `GitHub stars` feature, fill the `VITE_GITHUB_AUTH_TOKEN` variable, to not run into GitHub’s API limitation
-   Start the dev server (`pnpm run dev`)
-   Print the web page (<kbd>⌘</kbd>/<kbd>Ctrl</kbd>+<kbd>P</kbd>) as a PDF In fact, this <!-- textlint-disable write-good -->
    Is exactly how the PDF is generated by the pipeline. Since the pipeline uses <!-- textlint-enable write-good -->
    [headless Chrome](https://chromium.googlesource.com/chromium/src/+/lkgr/headless/README.md#headless-chromium),
    printing the résumé locally using Chrome will provide the most consistent
    result.
-   Or you can use the `pnpm run build:pdf"` command, but before you can use this command you need to call `pnpm run build`
-   To check the build résumé, call `pnpm run serve`

## Generating an résumé on netlify

-   Provide the env variables `VITE_GITHUB_AUTH_TOKEN` to not get the `GitHub` API limit
-   Option if you like to download the résumé from a `GitHub` gist, provide the `VITE_GITHUB_RESUME_GIST_ID` with your `gist id`

`netlify.toml`:

```toml
[build.environment]
  NODE_VERSION = "16"
  NPM_FLAGS="--version"

[[plugins]]
  package = "/.netlify/netlify-plugin-pnpm"

[build]
# If you download your resume.json (and resume.private.json) from a gist please use the command below and uncomment the current command
#  command = "npx pnpm@7 install --store-dir=.pnpm --frozen-lockfile && npx pnpm@7 run download:resume && npx pnpm@7 run build && npx pnpm@7 run build:pdf"
  command = "npx pnpm@7 install --store-dir=.pnpm --frozen-lockfile && npx pnpm@7 run build && npx pnpm@7 run build:pdf"
  publish = "dist"

```

To use `pnpm` on netlify you need to create this file `.netlify/netlify-plugin-pnpm/index.js` and `.netlify/netlify-plugin-pnpm/manifest.yml`.

`.netlify/netlify-plugin-pnpm/index.js`:

```js
module.exports = {
    // eslint-disable-next-line consistent-return
    onPreBuild: async ({ utils: { build, run } }) => {
        try {
            await run.command("npm install -g pnpm");
            await run.command("pnpm install --frozen-lockfile=false");
        } catch (error) {
            return build.failBuild(error);
        }
    },
};
```

`.netlify/netlify-plugin-pnpm/manifest.yml`:

```yaml
name: netlify-plugin-pnpm
inputs: []
```

## Why not use the PDF generated by the pipeline

The pipeline generates a PDF using the public information found in
`resume.json` and does not include any private data
specified in `resume.private.json`. (For example, phone numbers.)

## Supported Node.js Versions

Libraries in this ecosystem make the best effort to track
[Node.js’ release schedule](https://nodejs.org/en/about/releases/). Here’s [a
post on why we think this is important](https://medium.com/the-node-js-collection/maintainers-should-consider-following-node-js-release-schedule-ab08ed4de71a).

## Contributing

If you would like to help take a look at the [list of issues](https://github.com/anolilab/resume/issues) and check our [Contributing](.github/CONTRIBUTING.md) guild.

> **Note:** please note that this project is released with a Contributor Code of Conduct. By participating in this project you agree to abide by its terms.

## Credits

-   [Daniel Bannert](https://github.com/prisis)
-   [All Contributors](https://github.com/anolilab/resume/graphs/contributors)

## License

<!-- textlint-disable no-dead-link -->

The anolilab résumé is open-sourced software licensed under the [MIT license](https://opensource.org/licenses/MIT)

<!-- textlint-enable no-dead-link -->
